/**
 * @preserve FTColumnflow is a polyfill that fixes the inadequacies of CSS column layouts.
 *
 * It is developed by FT Labs (http://labs.ft.com), part of the Financial Times.
 * It is extensively used in the FT Web App (http://app.ft.com), where it allows us to
 * publish articles with complex newspaper/magazine style layouts, including features such as:
 *		- Configurable column widths, gutters and margins
 *		- Fixed-position elements
 *		- Elements spanning columns
 *		- Keep-with-next to avoid headings at the bottom of a column
 *		- No-wrap class to avoid splitting elements across columns
 *		- Grouping of columns into pages
 *		- Horizontal or vertical alignment of pages
 *		- Standardised line height to align text baseline to a grid
 *		- Rapid reflow as required by events such as device orientation or font-size change
 * It is designed with the same column dimension specification API as the CSS3 multi-column specification
 * (http://www.w3.org/TR/css3-multicol/), but gives far greater flexibility over element positioning within those columns.
 *
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENCE.txt)
 * @codingstandard ftlabs-jslint
 */

var FTColumnflow=(function(){function d(i,j){this.name="FTColumnflow"+i||"FTColumnflowException";this.message=j||""}d.prototype=new Error();d.constructor=d;var f=["pageInnerWidth","pageInnerHeight","colDefaultTop","colDefaultLeft","columnCount","columnWidth","columnGap"],c={layoutDimensions:null,columnFragmentMinHeight:0,viewportWidth:null,viewportHeight:null,columnWidth:"auto",columnCount:"auto",columnGap:"normal",pageClass:"cf-page",columnClass:"cf-column",pageArrangement:"horizontal",pagePadding:0,debug:false,showGrid:false,standardiseLineHeight:false,minFixedPadding:1,lineHeight:null,noWrapOnTags:[],allowReflow:true},h="#[targetId] { position: relative; height: 100%; }\n#[targetId] .[preloadAreaClassName].[pageClass] { visibility: hidden; position: absolute; overflow: hidden; }\n#[targetId] .[preloadFixedAreaClassName] { visibility: hidden; position: absolute; }\n#[targetId] .[pageClass] { position: absolute; width: [viewportWidth]px; height: [viewportHeight]px; [pageArrangement] }\n#[targetId] .[columnClass] { position: absolute; width: [columnWidth]px; overflow: hidden; }\n#[targetId] .[pageClass] .[fixedElementClassName] { position: absolute; }\n#[targetId] .[pageClass] .[columnClass] > :first-child { margin-top: 0px; }\n",e="#[targetId] .[columnClass].[columnClass]-[columnNum] { left: [leftPos]px; }\n",b="#[targetId] .[pageClass] { background-image: -webkit-linear-gradient(skyblue 1px, transparent 1px); background-size: 100% [lh]px; background-origin: content-box; }",a=(function(){var j;if(typeof document!=="undefined"&&!document.documentElement.hasOwnProperty("outerHTML")){j=document.createElementNS("http://www.w3.org/1999/xhtml","_");return function i(m){var l;j.appendChild(m.cloneNode(false));l=j.innerHTML.replace("><",">"+m.innerHTML+"<");j.innerHTML="";return l}}else{return function k(l){return l.outerHTML}}}());function g(i,Y,O){var V={},I,af,X,M,z,F,B,aq,ac,ao,aa,s,H="cf-target-",x="cf-render-area",r="cf-preload",E="cf-preload-fixed",k="cf-fixed",an="nowrap",ab="keepwithnext",aj,o=[],W=[],ad,K,y,D,p,U,Z,m,ap,T=this;this.target=i;this.viewport=Y;this._checkInstanceArgs();q(O);N();function q(av){var au;T.config=V={};for(au in c){if(c.hasOwnProperty(au)){V[au]=c[au]}}for(au in av){if(av.hasOwnProperty(au)){if(V[au]===undefined){throw new d("ParameterException","Unknown config parameter ["+au+"].")}V[au]=av[au]}}if(V.showGrid!==undefined){I=!!V.showGrid}if("horizontal"!==V.pageArrangement&&"vertical"!==V.pageArrangement){throw new d("ArrangementException",V.pageArrangement+" is not a valid Page Arrangement value.")}V.pagePadding=parseInt(V.pagePadding,10);if(isNaN(V.pagePadding)){throw new d("PaddingException",V.pagePadding+" is not a valid Page Padding value.")}["columnWidth","columnCount","columnGap","columnFragmentMinHeight"].forEach(function at(ax){if(c[ax]===V[ax]){return true}V[ax]=parseInt(V[ax],10);if(isNaN(V[ax])||V[ax]<0){throw new d("ColumnDimensionException",ax+' must be an positive integer or "'+c[ax]+'".')}});if(typeof V.standardiseLineHeight!=="boolean"){throw new d("StandardiseLineheightException","standardiseLineHeight must be a boolean value.")}V.minFixedPadding=parseFloat(V.minFixedPadding);if(isNaN(V.minFixedPadding)){throw new d("MinFixedPaddingException","minFixedPadding must be a float or integer.")}if((V.viewportWidth!==null)&&isNaN(V.viewportWidth=parseInt(V.viewportWidth,10))){throw new d("ViewportWidthException","viewportWidth must be an integer.")}if((V.viewportHeight!==null)&&isNaN(V.viewportHeight=parseInt(V.viewportHeight,10))){throw new d("ViewportHeightException","viewportHeight must be an integer.")}if((V.lineHeight!==null)&&isNaN(V.lineHeight=parseInt(V.lineHeight,10))){throw new d("LineheightException","lineHeight must be an integer.")}V.pageClass=w("pageClass",V.pageClass);V.columnClass=w("columnClass",V.columnClass);if(!Array.isArray(V.noWrapOnTags)){throw new d("NoWrapException","noWrapOnTags must be an Array.")}V.noWrapOnTags=V.noWrapOnTags.map(function aw(ax){return ax.toLowerCase()})}function N(){var aw,at,av,au;if(V.layoutDimensions!==null){for(aw=0,at=f.length;aw<at;aw++){if(isNaN(Number(V.layoutDimensions[f[aw]]))){throw new d("DimensionCacheException","Must specify an integer value for "+f[aw])}}return}V.layoutDimensions={};if(!V.viewportWidth){au=window.getComputedStyle(T.viewport);V.viewportWidth=parseInt(au.getPropertyValue("width"),10)}if(!V.viewportHeight){if(!au){au=window.getComputedStyle(T.viewport)}V.viewportHeight=parseInt(au.getPropertyValue("height"),10)}if(!V.viewportWidth||!V.viewportHeight){throw new d("ViewportException","Viewport element must have width and height.")}if("normal"===V.columnGap){if(!au){au=window.getComputedStyle(T.viewport)}V.layoutDimensions.columnGap=parseInt(au.fontSize,10)}else{V.layoutDimensions.columnGap=V.columnGap}if("horizontal"===V.pageArrangement){V.layoutDimensions.pageInnerWidth=V.viewportWidth-(2*V.pagePadding);V.layoutDimensions.pageInnerHeight=V.viewportHeight;V.layoutDimensions.colDefaultTop=0;V.layoutDimensions.colDefaultLeft=V.pagePadding}else{V.layoutDimensions.pageInnerWidth=V.viewportWidth;V.layoutDimensions.pageInnerHeight=V.viewportHeight-(2*V.pagePadding);V.layoutDimensions.colDefaultTop=V.pagePadding;V.layoutDimensions.colDefaultLeft=0}if("auto"===V.columnWidth&&"auto"===V.columnCount){V.layoutDimensions.columnCount=1;V.layoutDimensions.columnWidth=V.layoutDimensions.pageInnerWidth}else{if("auto"===V.columnWidth&&"auto"!==V.columnCount){V.layoutDimensions.columnCount=V.columnCount;V.layoutDimensions.columnWidth=(V.layoutDimensions.pageInnerWidth-((V.columnCount-1)*V.layoutDimensions.columnGap))/V.columnCount}else{av=Math.max(1,Math.floor((V.layoutDimensions.pageInnerWidth+1+V.layoutDimensions.columnGap)/(V.columnWidth+V.layoutDimensions.columnGap)));if("auto"===V.columnCount){V.layoutDimensions.columnCount=av;V.layoutDimensions.columnWidth=((V.layoutDimensions.pageInnerWidth+V.layoutDimensions.columnGap)/V.layoutDimensions.columnCount)-V.layoutDimensions.columnGap}else{V.layoutDimensions.columnCount=Math.min(V.columnCount,av);V.layoutDimensions.columnWidth=((V.layoutDimensions.pageInnerWidth+V.layoutDimensions.columnGap)/V.layoutDimensions.columnCount)-V.layoutDimensions.columnGap}}}V.layoutDimensions.columnHeight=V.lineHeight?G(V.layoutDimensions.pageInnerHeight):V.layoutDimensions.pageInnerHeight}function l(){var at,au;if(!aa){aa=document.querySelector("head")}if(!T.target.id){T.target.id=H+Math.floor(Math.random()*(9000000000)+1000000000)}at=J(h,{targetId:T.target.id,preloadAreaClassName:r,preloadFixedAreaClassName:E,fixedElementClassName:k,pageClass:V.pageClass,columnClass:V.columnClass,columnWidth:V.layoutDimensions.columnWidth,viewportWidth:V.viewportWidth,viewportHeight:V.viewportHeight,pageArrangement:("horizontal"===V.pageArrangement)?"top: 0;":"left: 0;"});for(au=1;au<=V.layoutDimensions.columnCount;au++){at+=J(e,{targetId:T.target.id,columnClass:V.columnClass,columnNum:au,leftPos:V.layoutDimensions.colDefaultLeft+(V.layoutDimensions.columnWidth*(au-1))+(V.layoutDimensions.columnGap*(au-1))})}if(s){while(s.hasChildNodes()){s.removeChild(s.firstChild)}}else{s=document.createElement("style");s.setAttribute("type","text/css")}s.appendChild(document.createTextNode(at));aa.appendChild(s)}function S(){var au,at;at=document.createDocumentFragment();au=at.appendChild(document.createElement("div"));aq=at.appendChild(document.createElement("div"));if("string"===typeof af||!af){ac=au.appendChild(document.createElement("div"));if(af){ac.innerHTML=af}}else{if(af instanceof HTMLElement){ac=af.cloneNode(true);au.appendChild(ac)}else{throw new d("FlowedContentException","flowedContent must be a HTML string or a DOM element.")}}if("string"===typeof X||!X){ao=at.appendChild(document.createElement("div"));if(X){ao.innerHTML=X}}else{if(X instanceof HTMLElement){ao=X.cloneNode(true);at.appendChild(ao)}else{throw new d("FixedContentException","fixedContent must be a HTML string or a DOM element.")}}au.className=r+" "+V.pageClass;aq.className=x;ac.className=V.columnClass;ao.className=E;T.target.appendChild(at)}function al(){var ay,aw,au,ax,av,at;if(!V.lineHeight){if(!aj){aj=new Array(10).join("x<br />")+"x"}ay=[];for(aw=0,au=Math.min(10,(ac.childNodes.length));aw<au;aw++){ax=ac.childNodes[aw];if(Node.ELEMENT_NODE!==ax.nodeType){continue}at=parseInt(window.getComputedStyle(ax).getPropertyValue("line-height"),10);if(!at){av=ax.cloneNode(false);if(ax.className){av.className=ax.className}av.style.padding="0px";av.style.border="none";av.style.height="auto";av.innerHTML=aj;ac.appendChild(av);at=av.offsetHeight/10;ac.removeChild(av)}ay.push(at)}if(ay.length<5){av=document.createElement("p");av.style.padding="0px";av.style.border="none";av.style.height="auto";av.innerHTML=aj;ac.appendChild(av);at=av.offsetHeight/10;ac.removeChild(av);for(aw=ay.length;aw<5;aw++){ay.push(at)}}V.lineHeight=u(ay)}V.layoutDimensions.columnHeight=V.lineHeight?G(V.layoutDimensions.pageInnerHeight):V.layoutDimensions.pageInnerHeight;if(I){s.innerHTML+=J(b,{targetId:T.target.id,pageClass:V.pageClass,lh:V.lineHeight})}}function A(ay){var aB,au,aw,az,av,ax,aA,at;if(Node.TEXT_NODE===ay.nodeType){return false}aB=window.getComputedStyle(ay);if("none"===aB.getPropertyValue("display")){return false}az=ay.className.match(/(\s|^)anchor-(top|middle|bottom)-(left|right|(?:col-(\d+)))(\s|$)/);if(az){av=az[2];if(az[4]){ax=Math.max(0,(Math.min(az[4],V.layoutDimensions.columnCount)-1))}else{ax=az[3]}}else{av="top";ax="left"}az=ay.className.match(/(\s|^)col-span-(\d+|all)(-(left|right))?(\s|$)/);if(az){at=az[4]||"right";if(az[2]==="all"){aA=V.layoutDimensions.columnCount}else{aA=parseInt(az[2],10)}if("left"===ax){au=0;aw=Math.min(aA,V.layoutDimensions.columnCount)-1}else{if("right"===ax){aw=V.layoutDimensions.columnCount-1;au=V.layoutDimensions.columnCount-Math.min(aA,V.layoutDimensions.columnCount)}else{if("right"===at){au=ax;aw=Math.min((au+aA),V.layoutDimensions.columnCount)-1}else{aw=ax;au=Math.max((aw-aA-1),0)}}}}else{if("left"===ax){au=0}else{if("right"===ax){au=V.layoutDimensions.columnCount-1}else{au=ax}}aw=au}ay.style.width=ag(((aw-au)*(V.layoutDimensions.columnWidth+V.layoutDimensions.columnGap))+V.layoutDimensions.columnWidth)+"px";return{element:ay,preComputedStyle:aB,indexedColStart:au,indexedColEnd:aw,anchorY:av,anchorX:ax}}function t(aF){var av=aF.element,au,aL,aG,az,aN,aB,aD,aI,aK,aA,aM,aC,aE,ax,at,aw,ay,aH,aJ;if(av.classList.contains("attach-page-last")){W.push({fixed:[{content:a(av),top:V.layoutDimensions.colDefaultTop,left:V.layoutDimensions.colDefaultLeft}]});return}else{au=av.className.match(/(\s|^)attach-page-(\d+)(\s|$)/);if(au){aL=au[2]-1}else{aL=0}}ar(aL);aG=o[aL];az=av.offsetHeight+parseInt(aF.preComputedStyle.getPropertyValue("margin-top"),10);switch(aF.anchorY){case"top":aN=V.layoutDimensions.colDefaultTop;aD=M-az;for(aJ=aF.indexedColStart;aJ<=aF.indexedColEnd;aJ++){aM=aG.columns[aJ].fragments[0];if(!aM){aN=aD}else{if(aM.top>aN){aN=(aM.top>aD)?aD:aM.top}}}aB=aN+az;aK=aN-V.lineHeight;aA=n(aB,true);break;case"middle":aN=z-(az/2);aK=G(aN,true);aA=n(aN+az,true);if(aK<0){aK=0}if(aA>V.layoutDimensions.columnHeight){aA=V.layoutDimensions.columnHeight}break;case"bottom":aB=M;aI=az;for(aJ=aF.indexedColStart;aJ<=aF.indexedColEnd;aJ++){aC=aG.columns[aJ].fragments[aG.columns[aJ].fragments.length-1];if(!aC){aB=aI}else{if(aC.bottom<aB){aB=(aC.bottom<aI)?aI:aC.bottom}}}aN=aB-az;aK=G(aN,true);aA=aB+V.lineHeight;break}for(aJ=aF.indexedColStart;aJ<=aF.indexedColEnd;aJ++){aw=aG.columns[aJ];for(ay=0,aH=aw.fragments.length;ay<aH;ay++){at=aw.fragments[ay];if(aK<at.top&&aA>at.bottom){aw.fragments.splice(ay,1);aH--;continue}else{if(aK>at.bottom||aA<at.top){continue}}ax=at.top+at.height-aA;at.height=aK-at.top;at.bottom=at.top+at.height;if(!at.height||at.height<V.columnFragmentMinHeight){aw.fragments.splice(ay--,1);aH--}if(ax&&ax>=V.columnFragmentMinHeight){aE=j();aE.top=aA;aE.height=ax;aE.bottom=aE.top+aE.height;aw.fragments.splice(++ay,0,aE);ay++;aH++}}}aG.fixed.push({content:a(av),top:aN,left:(V.layoutDimensions.colDefaultLeft+(("left"===aF.anchorX)?0:((V.layoutDimensions.columnWidth+V.layoutDimensions.columnGap)*aF.indexedColStart)))})}function v(at){var au;if(Node.TEXT_NODE!==at.nodeType){return}if(at.nodeValue.match(/^\s*$/)){at.parentNode.removeChild(at)}else{au=document.createElement("p");au.appendChild(document.createTextNode(at.nodeValue));at.parentNode.replaceChild(au,at)}}function ah(){var au=[],av,aw,at;o=[];W=[];K=y=D=ad=y=D=p=U=0;M=V.layoutDimensions.columnHeight+V.layoutDimensions.colDefaultTop;z=V.layoutDimensions.colDefaultTop+(V.layoutDimensions.columnHeight/2);F=V.minFixedPadding*V.lineHeight;B=n(F);for(aw=0,at=ao.childNodes.length;aw<at;aw++){av=A(ao.childNodes[aw]);if(av){au.push(av)}}for(aw=0,at=au.length;aw<at;aw++){t(au[aw])}for(aw=ac.childNodes.length-1;aw>=0;aw--){v(ac.childNodes[aw])}if(!ac.childNodes.length){return}ar(K);Z=o[K];m=Z.columns[y];ap=m.fragments[D];if(!ap){P()}U=ap.height;for(aw=0,at=ac.childNodes.length;aw<at;aw++){R(ac.childNodes[aw],aw)}ae(at-1,false);if(!V.allowReflow){if(ao.parentNode){ao.parentNode.removeChild(ao)}ao=null;if(ac.parentNode&&ac.parentNode.parentNode){ac.parentNode.parentNode.removeChild(ac.parentNode)}ac=null}}function R(au,ax){var aD,av,aC,az,aw,ay,at,aB,aA=au.nextSibling;if(V.standardiseLineHeight){av=parseFloat(window.getComputedStyle(au).getPropertyValue("margin-bottom"),10);if(V.allowReflow){aD=parseFloat(au.getAttribute("data-cf-original-margin"),10)||null;if(null===aD){aD=av;au.setAttribute("data-cf-original-margin",aD)}else{if(aD!==av){au.style.marginBottom=aD+"px"}}}else{aD=av}aC=ak(au,aA);az=au.offsetHeight;if(aC%V.lineHeight){ay=Math.max(av,aA?parseFloat(window.getComputedStyle(aA).getPropertyValue("margin-top"),10):0);aw=n(az)-az+n(ay);if(aw!==av){au.style.marginBottom=aw+"px"}}}au.offsetBottom=au.offsetTop+au.offsetHeight;aB=0;while((au.offsetBottom>=U||(aA&&aA.offsetTop>=U))&&(aB++<30)){at=(au.offsetBottom>U);ae(ax,at)}if(aB>=30){console.error("FTColumnflow: Caught and destroyed a loop when wrapping columns for element",au.outerHTML.substr(0,200)+"...")}}function ak(au,at){if(!au.getBoundingClientRect){return at?(at.offsetTop-au.offsetTop):au.offsetHeight}return at?at.getBoundingClientRect().top-au.getBoundingClientRect().top:au.getBoundingClientRect().height}function ae(aF,aw){var au,aE,av,aD,at,aI,aG,ax,az,aB,ay,aA=ac.childNodes[aF],aC=aA.nextSibling,aH=aA.previousSibling;au=aA.classList.contains(an);aE=aA.classList.contains(ab);av=(aH&&aH.classList.contains(ab));if(-1!==V.noWrapOnTags.indexOf(aA.tagName.toLowerCase())){au=true}if(!aC){aB=true}if(aF===ad){aD=true}if(aA.offsetBottom===U){aw=false;if(aC){U=aC.offsetTop}}if((au||(aE&&aC))&&aw&&(aD)){aI=true}if(!aI&&!aD&&((au&&aw)||(aE&&aC))){aG=true;ax=aF}if((aF-1)>ad&&av&&aw&&au){aG=true;ax=aF-1}at=aG?ax-1:aF;if(at<ad){return}ap.overflow=p;for(az=ad;az<=at;az++){ay=ac.childNodes[az];ap.elements.push({content:a(ay)})}if(aG){ad=ax}else{if(aw&&!aI){ad=aF}else{ad=aF+1}}if(aG){U=ac.childNodes[ax].offsetTop}else{if(aI&&aC){U=aC.offsetTop}}if(!aw||(au||(aE&&aC))){p=0}else{p=U-aA.offsetTop}P();U+=ap.height}function L(){var ay="",aH,au,aF,aE,az,ax,aA,at,aC,aw,aG,aB,av,aD;for(aH=0,au=o.length;aH<au;aH++){aF="";aE=o[aH];for(az=0,ax=aE.fixed.length;az<ax;az++){aA=aE.fixed[az];aA.content=am(aA.content,k);aF+=ai(aA.content,"top:"+ag(aA.top)+"px;left:"+ag(aA.left)+"px;")}for(at=0,aC=aE.columns.length;at<aC;at++){aw=aE.columns[at];for(aG=0,aB=aw.fragments.length;aG<aB;aG++){aD=aw.fragments[aG];if(0===aD.elements.length){continue}aF+=Q(aD,at);for(av=0,ax=aD.elements.length;av<ax;av++){aA=aD.elements[av];if(av===0){aA.content=ai(aA.content,"margin-top:"+(-aD.overflow)+"px;")}aF+=aA.content}aF+="</div>"}}if(""===aF){o.splice(aH,1);aH--;au--;continue}ay+=C(aH)+aF+"</div>"}for(aH=0,au=W.length;aH<au;aH++){aF="";aE=W[aH];for(az=0,ax=aE.fixed.length;az<ax;az++){aA=aE.fixed[az];aA.content=am(aA.content,k);aF+=ai(aA.content,"top:"+ag(aA.top)+"px;left:"+ag(aA.left)+"px;")}ay+=C(o.length+aH)+aF+"</div>"}aq.innerHTML=ay;au=o.length+W.length;T.target.style.width=(V.viewportWidth*au)+"px";T.pagedContentCount=au}function am(at,au){return at.replace(/<(\w+)([^>]*)>/,function av(ay,aw,ax){if(!ay.match(/class\s*=/)){ay="<"+aw+' class="" '+ax+">"}ay=ay.replace(/class=(["'])/,"class=$1 "+au+" ");return ay})}function ai(at,au){return at.replace(/<(\w+)([^>]*)>/,function av(ay,aw,ax){if(!ay.match(/style\s*=/)){ay="<"+aw+' style="" '+ax+">"}ay=ay.replace(/style=(["'])/,"style=$1 "+au);return ay})}function G(av,at){var au=av-(av%V.lineHeight);if(at&&((av-au)<F)){au-=B}return au}function n(av,at){var aw=av%V.lineHeight,au=(aw?(av-aw+V.lineHeight):av);if(at&&((au-av)<F)){au+=B}return au}function ag(at){return Math.round(at*100)/100}function J(au,av){return au.replace(/\[(\w+)\]/g,function at(ax,aw){var ay=av[aw];return typeof ay==="string"||typeof ay==="number"?ay:ax})}function w(at,au){if(typeof au!=="string"){throw new d("ClassnameException",at+" must be a string.")}return au.replace(/[^\w]/g,"-")}function ar(at){var au,av;for(au=o.length;au<=at;au++){o.push({fixed:[],columns:[]});for(av=0;av<V.layoutDimensions.columnCount;av++){o[au].columns.push({fragments:[j()]})}}}function j(){return{elements:[],overflow:0,height:V.layoutDimensions.columnHeight,top:V.layoutDimensions.colDefaultTop,bottom:M}}function P(){if(!m.fragments[++D]){D=0;if(!Z.columns[++y]){y=0;K++;ar(K)}}Z=o[K];m=Z.columns[y];ap=m.fragments[D];if(!ap){P()}}function C(au){var at;if("horizontal"===V.pageArrangement){at="left: "+(au*V.viewportWidth)+"px;"}else{at="top: "+(au*V.viewportHeight)+"px;"}return'<div class="'+V.pageClass+" "+V.pageClass+"-"+(au+1)+'" style="'+at+'">'}function Q(au,at){return'<div class="'+V.columnClass+" "+V.columnClass+"-"+(at+1)+'" style="height: '+ag(au.height)+"px; top: "+ag(au.top)+'px;">'}function u(ay){var aw={},at,ax,au,av;if(ay.length===0){return null}at=ay[0];ax=1;for(au=0;au<ay.length;au++){av=ay[au];if(aw[av]===undefined){aw[av]=1}else{aw[av]++}if(aw[av]>ax){at=av;ax=aw[av]}}return at}this.flow=function(at,au){af=at;X=au;l();S();al();ah();L()};this.reflow=function(at){if(!V.allowReflow){throw new d("ReflowException",'reflow() was called but "allowReflow" config option was false.')}if(at){q(at)}N();l();al();ah();L()};this.destroy=function(){if(s){s.parentNode.removeChild(s);s=null}if(T.target){T.target.parentNode.removeChild(T.target);T.target=null}}}g.prototype={get layoutDimensions(){return this.config.layoutDimensions},set layoutDimensions(i){throw new d("SetterException","Setter not defined for layoutDimensions.")},get pageClass(){return this.config.pageClass},set pageClass(i){throw new d("SetterException","Setter not defined for pageClass.")},get columnClass(){return this.config.columnClass},set columnClass(i){throw new d("SetterException","Setter not defined for columnClass.")},get pageCount(){return this.pagedContentCount},set pageCount(i){throw new d("SetterException","Setter not defined for pageCount.")},_checkInstanceArgs:function(){var i=this;["target","viewport"].forEach(function j(l){var k=i[l];switch(typeof k){case"string":k=document.getElementById(k);if(!k){throw new d("SelectorException",l+" must be a valid DOM element.")}break;case"object":if(!(k instanceof HTMLElement)){throw new d("ParameterException",l+" must be a string ID or DOM element.")}break;default:throw new d("ParameterException",l+" must be a string ID or DOM element.")}i[l]=k});if(this.viewport.compareDocumentPosition(this.target)<this.viewport.DOCUMENT_POSITION_CONTAINED_BY){throw new d("InheritanceException","Target element must be a child of the viewport.")}while(this.target.lastChild){this.target.removeChild(this.target.lastChild)}}};return g}());
